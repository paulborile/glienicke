{"id":"glienicke-2sd","title":"Set up bd workflow and issue tracking integration","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T15:41:05.974923837+01:00","updated_at":"2025-12-16T15:41:24.158491149+01:00","closed_at":"2025-12-16T15:41:24.158491149+01:00","close_reason":"Closed"}
{"id":"glienicke-2w7","title":"Comprehensive rate limiting implementation completed successfully","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T15:17:43.84349933+01:00","updated_at":"2025-12-17T15:17:48.772696343+01:00","closed_at":"2025-12-17T15:17:48.772696343+01:00","close_reason":"Rate limiting implementation completed with comprehensive features including per-IP and global limits, connection tracking, event size validation, YAML config support, and comprehensive tests"}
{"id":"glienicke-34w","title":"Implement Database Performance Optimizations","description":"Optimize SQLite database operations for high-volume production use. Current implementation may have performance bottlenecks under load that need addressing.\n\nKey areas for optimization:\n- Query performance for large event databases\n- Index optimization for common filter patterns\n- Connection pooling and transaction management\n- Batch event operations and bulk inserts\n- Memory usage optimization for concurrent operations\n- Event cleanup and retention policies\n- Backup and database maintenance strategies\n\nThis ensures relay can handle production traffic loads efficiently without performance degradation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T13:00:49.680100421+01:00","updated_at":"2026-02-20T11:54:36.212422443+01:00","closed_at":"2026-02-20T11:54:36.212422443+01:00","close_reason":"Closed","dependencies":[{"issue_id":"glienicke-34w","depends_on_id":"glienicke-e3u","type":"discovered-from","created_at":"2025-12-17T13:00:49.683983476+01:00","created_by":"daemon"}]}
{"id":"glienicke-4xs","title":"Add /health HTTP endpoint with basic metrics","description":"Add HTTP /health endpoint that returns JSON with basic relay metrics for monitoring and health checks.\n\nKey metrics to include:\n- Relay uptime (time since start)\n- Version/build information  \n- Packets per second (last minute)\n- Total active WebSocket connections\n- Rate limited events/requests counter\n- Memory usage\n- Database connection status\n- Any other collected metrics\n\nThis endpoint will be used by:\n- Monitoring systems (Prometheus, Grafana)\n- Load balancers for health checks\n- DevOps for operational visibility\n- Administrative dashboards\n\nImplementation should:\n- Use standard HTTP server alongside WebSocket handler\n- Return JSON format with proper content-type\n- Be lightweight and fast (no heavy DB queries)\n- Include HTTP status codes (200 for healthy, 503 for issues)\n- Be configurable via existing config system","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T10:38:51.786820501+01:00","updated_at":"2026-01-16T17:41:20.576168694+01:00","closed_at":"2026-01-16T17:41:20.576168694+01:00","close_reason":"Implemented /health endpoint with comprehensive monitoring metrics including active connections, packet rates, memory usage, database status, and uptime. Endpoint returns JSON with proper HTTP status codes and is compatible with monitoring systems."}
{"id":"glienicke-75s","title":"NIP-28: Validation and Package Structure","description":"Create pkg/nips/nip28/ with validation for kinds 40-44 and utility functions.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-20T12:04:19.545830964+01:00","updated_at":"2026-02-20T12:04:19.545830964+01:00"}
{"id":"glienicke-a4a","title":"Example: Fix potential memory leak in event processing","description":"While reviewing the codebase, identified potential memory leak in pkg/event/event.go where events may not be properly cleaned up after processing. Need to investigate and fix if confirmed.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-16T15:42:27.505369696+01:00","updated_at":"2025-12-16T15:42:27.505369696+01:00"}
{"id":"glienicke-ay0","title":"NIP-28: Storage Layer","description":"Add channel event tables to SQLite, store metadata/messages/moderation, support channel queries.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-20T12:04:28.419537476+01:00","updated_at":"2026-02-20T12:04:28.419537476+01:00","dependencies":[{"issue_id":"glienicke-ay0","depends_on_id":"glienicke-75s","type":"blocks","created_at":"2026-02-20T12:04:28.426005174+01:00","created_by":"daemon"}]}
{"id":"glienicke-bvx","title":"Phase 3: Add Advanced Features \u0026 Production Monitoring","description":"Implement advanced relay features for production deployment including enhanced authentication, comprehensive monitoring, payment-based access, and advanced abuse detection. This brings the relay to full production-ready state with enterprise-level capabilities.\n\nKey components needed:\n- Enhanced NIP-42 authentication with persistent state management\n- Payment-based access control (optional, for premium features)\n- Comprehensive metrics collection and health endpoints\n- Advanced abuse detection using ML/heuristics\n- A/B testing framework for policy evaluation\n- Resource usage quotas and limits\n- Search optimization and indexing improvements\n- Backup and disaster recovery mechanisms\n- Administrative interfaces for relay management\n- Performance profiling and optimization tools\n\nThis addresses the advanced features needed for enterprise-level relay deployment and makes the system production-ready for high-traffic scenarios.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-17T12:59:32.434899949+01:00","updated_at":"2025-12-17T12:59:32.434899949+01:00","dependencies":[{"issue_id":"glienicke-bvx","depends_on_id":"glienicke-oxo","type":"discovered-from","created_at":"2025-12-17T12:59:32.437430189+01:00","created_by":"daemon"}]}
{"id":"glienicke-e3u","title":"Design and Implement Central Configuration System","description":"Create a comprehensive configuration system that supports all the new features across Phase 1-3. This config system will be the foundation for managing rate limits, content policies, authentication settings, and feature flags.\n\nKey components needed:\n- YAML/JSON configuration file structure\n- Environment variable support\n- Hot-reloading of configuration changes\n- Validation and default value handling\n- Separate config sections for rate limiting, content policies, authentication, monitoring\n- Backward compatibility with current command-line flags\n- Configuration schema validation\n\nThis provides a centralized way to manage all production relay settings without code changes.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T12:59:43.499908149+01:00","updated_at":"2026-02-18T17:07:41.5684799+01:00","closed_at":"2026-02-18T17:07:41.5684799+01:00","close_reason":"Closed","dependencies":[{"issue_id":"glienicke-e3u","depends_on_id":"glienicke-ecs","type":"discovered-from","created_at":"2025-12-17T12:59:43.503050392+01:00","created_by":"daemon"}]}
{"id":"glienicke-ecs","title":"Phase 1: Add Basic Protection (Rate Limiting \u0026 Connection Management)","description":"Implement rate limiting and connection management to prevent spam and DoS attacks. This is critical before any public deployment.\n\nKey components needed:\n- Rate limiting per IP and global (EVENT, REQ, connection limits)\n- Connection pool management with max connections per IP\n- Event size validation and frequency controls\n- Configurable limits via config file\n- Rate limiter state management\n\nThis addresses the most critical security gap in current implementation.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-17T12:58:42.539877431+01:00","updated_at":"2025-12-17T14:12:13.158826935+01:00","closed_at":"2025-12-17T14:12:13.158826935+01:00","close_reason":"Phase 1 basic rate limiting foundation completed successfully. Created:\n- pkg/config/ with YAML/JSON configuration support  \n- pkg/ratelimit/ with simple limiter implementation\n- Example configuration file (config/relay.yaml)\n- Updated go.mod dependencies\n- Design documentation for rate limiting implementation\n- Foundation for production-ready relay security\n\nReady for Phase 2 implementation."}
{"id":"glienicke-elh","title":"NIP-28: Relay Integration and Broadcasting","description":"Wire NIP-28 into event pipeline, handle channel subscriptions, broadcast messages to subscribers.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-20T12:04:32.320698182+01:00","updated_at":"2026-02-20T12:04:32.320698182+01:00","dependencies":[{"issue_id":"glienicke-elh","depends_on_id":"glienicke-ay0","type":"blocks","created_at":"2026-02-20T12:04:32.337182685+01:00","created_by":"daemon"}]}
{"id":"glienicke-hfz","title":"NIP-28: NIP-11 Support and Tests","description":"Advertise NIP-28 in relay info, write unit/integration tests, enable feature flag in config.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-20T12:04:36.578537854+01:00","updated_at":"2026-02-20T12:04:36.578537854+01:00","dependencies":[{"issue_id":"glienicke-hfz","depends_on_id":"glienicke-elh","type":"blocks","created_at":"2026-02-20T12:04:36.587399378+01:00","created_by":"daemon"}]}
{"id":"glienicke-oxo","title":"Phase 2: Add Content Management \u0026 Basic Moderation","description":"Implement content filtering and moderation policies to handle spam, illegal content, and abuse. This makes the relay suitable for public use by adding content validation, spam detection, and basic moderation capabilities.\n\nKey components needed:\n- Content validation filters (spam patterns, keywords, size limits)\n- Event size and frequency restrictions\n- Basic spam detection algorithms\n- Content categorization and filtering\n- NIP-52 moderation event support\n- Blocklist/unblocklist functionality for IPs and pubkeys\n- Configurable content policies via config file\n- Event expiration handling for old/irrelevant content\n\nThis addresses content safety and spam prevention for production environment.","notes":"Starting Phase 2 implementation. Will add content validation, spam detection, and basic moderation capabilities to make relay suitable for public use. Starting with simple content filters and rate limiting on top of the Phase 1 foundation.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-17T12:59:02.710157386+01:00","updated_at":"2025-12-17T14:48:03.168027749+01:00","dependencies":[{"issue_id":"glienicke-oxo","depends_on_id":"glienicke-ecs","type":"discovered-from","created_at":"2025-12-17T12:59:02.712103818+01:00","created_by":"daemon"}]}
{"id":"glienicke-rau","title":"Implement NIP-28 Public Chat - Basic Group Chat Features","description":"Implement basic group chat functionality using NIP-28 Public Chat specification. This will add Discord/Telegram-style public channels to Glienicke relay, enabling users to create channels, send messages, and perform client-side moderation.\n\n## What Needs to Be Implemented\n\n### Core NIP-28 Event Kinds\n- **Kind 40 - Channel Creation**: Create public chat channels with initial metadata\n- **Kind 41 - Channel Metadata**: Update channel name, description, picture, relays\n- **Kind 42 - Channel Messages**: Send text messages to channels with threading support\n- **Kind 43 - Hide Message**: Client-side message hiding (user-level moderation)\n- **Kind 44 - Mute User**: Client-side user muting for blocking unwanted participants\n\n### Package Structure\n- Create  package following existing NIP patterns\n- Implement validation functions for each event kind\n- Add utility functions for channel management and message handling\n\n### Integration Points\n- **Relay Orchestrator**: Wire NIP-28 events into main event processing pipeline\n- **Storage Layer**: Ensure proper storage and querying of channel events\n- **WebSocket Protocol**: Handle real-time message broadcasting to channel subscribers\n- **NIP-11 Support**: Advertise NIP-28 in relay information document\n\n### Key Features\n- **Channel Creation**: Users can create public channels with metadata\n- **Message Broadcasting**: Real-time message delivery to channel subscribers\n- **Threading Support**: Reply functionality using existing NIP-22 comment patterns\n- **Client-side Moderation**: Hide messages and mute users without relay enforcement\n- **Channel Discovery**: Query available channels and their metadata\n\n### Testing Requirements\n- Unit tests for all NIP-28 validation functions\n- Integration tests for end-to-end channel workflows\n- Test coverage for channel creation, messaging, and moderation\n- Performance tests for message broadcasting in active channels\n\n### Dependencies\n- Leverage existing NIP-22 comment threading for replies\n- Use current event validation and storage infrastructure\n- Extend WebSocket broadcasting for channel-specific message delivery\n- Utilize existing tag parsing and filtering capabilities\n\n### Success Criteria\n- Users can create public channels (kind 40)\n- Channel metadata can be updated (kind 41)\n- Messages are sent and broadcasted in real-time (kind 42)\n- Client-side moderation works (kinds 43-44)\n- Full integration with existing Glienicke architecture\n- Comprehensive test coverage with passing tests","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T10:09:59.674211537+01:00","updated_at":"2026-02-20T12:04:40.613036116+01:00","closed_at":"2026-02-20T12:04:40.613036116+01:00","close_reason":"Closed"}
{"id":"glienicke-wts","title":"Add Production Logging and Health Endpoints","description":"Implement comprehensive logging, health check endpoints, and metrics collection for production monitoring. This is foundational for observability and troubleshooting in production deployments.\n\nKey components needed:\n- Structured logging (JSON format with levels)\n- Health check endpoint (/health) for monitoring systems\n- Metrics endpoint (/metrics) for Prometheus/Grafana\n- Performance counters (events/second, connection counts, error rates)\n- Request/response logging with correlation IDs\n- Log rotation and retention policies\n- Error tracking and alerting integration\n- Memory and resource usage tracking\n- Request latency histograms\n\nThis provides essential observability needed for production relay operations.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T13:00:14.527701885+01:00","updated_at":"2026-02-18T14:44:20.602191476+01:00","closed_at":"2026-02-18T13:00:14.527701885+01:00","dependencies":[{"issue_id":"glienicke-wts","depends_on_id":"glienicke-ecs","type":"discovered-from","created_at":"2025-12-17T13:00:14.530990419+01:00","created_by":"daemon"}]}
{"id":"glienicke-xyz","title":"Add /metrics Prometheus endpoint","description":"Implement HTTP /metrics endpoint that exposes Prometheus-compatible metrics for Grafana integration.\n\nKey metrics to include:\n- Counter: events_published_total (total events published)\n- Counter: events_received_total (total events received)\n- Counter: connections_active (current active connections)\n- Counter: connections_total (total connections since start)\n- Counter: messages_sent_total (total WebSocket messages sent)\n- Counter: messages_received_total (total WebSocket messages received)\n- Counter: rate_limited_total (total requests rate limited)\n- Histogram: request_latency_seconds (request latency)\n- Gauge: memory_usage_bytes (current memory usage)\n- Gauge: uptime_seconds (relay uptime)\n\nImplementation should:\n- Use Prometheus client library (github.com/prometheus/client_golang)\n- Expose /metrics endpoint alongside /health\n- Follow Prometheus exposition format\n- Be configurable via existing config system","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-18T13:00:00+01:00","updated_at":"2026-02-18T13:00:00+01:00","dependencies":[{"issue_id":"glienicke-xyz","depends_on_id":"glienicke-4xs","type":"related","created_at":"2026-02-18T13:00:00+01:00","created_by":"user"}]}
